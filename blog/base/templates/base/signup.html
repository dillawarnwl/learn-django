<!-- signup.html -->
{% extends 'base/partials/base.html' %}
{% load static %}

{% block title %}
Sign Up
{% endblock title %}

{% block content %}
<section style="padding-top: 115px;">
  <form id="user-signup-form" method="post" enctype="multipart/form-data" class="needs-validation" novalidate>
    {% csrf_token %}
    {{ form.non_field_errors }} <!-- Display non-field errors if any -->
    {{ form.errors }} <!-- Display form-level errors if any -->
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-6">
          <div class="card">
            <div class="card-header bg-black text-white text-center">Sign Up</div>
            <div class="card-body">
              <div class="form-group">
                {{ form.avatar.label_tag }}
                {{ form.avatar }}
                <div class="invalid-feedback">
                  Please provide a valid image file.
                </div>
              </div>
              <div class="form-group">
                {{ form.username.label_tag }}
                {{ form.username }}
                <div class="invalid-feedback">
                  Please choose a username.
                </div>
              </div>
              <div class="form-group">
                {{ form.bio.label_tag }}
                {{ form.bio }}
                <div class="invalid-feedback">
                  Please tell about your self.
                </div>
              </div>
              <div class="form-group">
                {{ form.email.label_tag }}
                {{ form.email }}
                <div class="invalid-feedback">
                  Please provide a valid email.
                </div>
              </div>
              <div class="form-group">
                {{ form.password1.label_tag }}
                {{ form.password1 }}
                <div class="invalid-feedback">
                  Please provide a password.
                </div>
              </div>
              <div class="form-group">
                {{ form.password2.label_tag }}
                {{ form.password2 }}
                <div class="invalid-feedback">
                  Please confirm the password.
                </div>
              </div>
              <div class="btn-container">
                <p class="mb-4 mt-4 ">Already user? <a href="{% url 'login' %}" class="text-success">Login</a></p>
                <button type="submit" class="btn btn-primary btn-block mt-2">Sign Up</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </form>
</section>

{% block scripts %}
<script>
  // Example of adding Bootstrap's 'was-validated' class for form validation
  (function () {
    'use strict';

    // Fetch all the forms we want to apply custom Bootstrap validation styles to
    var forms = document.querySelectorAll('.needs-validation');

    // Loop over them and prevent submission
    Array.from(forms).forEach(function (form) {
      form.addEventListener('submit', function (event) {
        if (!form.checkValidity()) {
          event.preventDefault();
          event.stopPropagation();
        }

        form.classList.add('was-validated');
      }, false);
    });
  })();
</script>
{% endblock scripts %}
{% endblock content %}